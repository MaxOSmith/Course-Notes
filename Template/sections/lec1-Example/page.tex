
\begin{lstlisting}[style=s-C++, caption=C++ Example]
#include <stdio.h>
#define N 10
/* Block
 * comment */
 
int main()
{
    int i;
 
    // Line comment.
    puts("Hello world!");
 
    for (i = 0; i < N; i++)
    {
        puts("LaTeX is also great for programmers!");
    }
 
    return 0;
}
\end{lstlisting}

You can also include code from a file:
\lstinputlisting[style=s-C++, caption=C++ From File]{./sections/lec1-Example/ex.cpp}

Not only that, but you make it so only subsections of line numbers show up:
\lstinputlisting[style=s-C++, caption=Lines 6-11, firstline=6, lastline=12]{./sections/lec1-Example/ex.cpp}

\begin{lstlisting}[style=s-tex, caption=Source: Lines 6-11]
\lstinputlisting[style=s-C++, caption=Lines 6-11, firstline=6, lastline=12]{
	./sections/lec1-Example/ex.cpp
}
\end{lstlisting}